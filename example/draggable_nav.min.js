(function(e){var t={init:function(e){this.sliderContent=e.sliderContent;this.sectionsWrap=e.sectionsWrap;this.sectionsLinks=this.sectionsWrap.children().children();this.createHandle();this.bindEvents();this.showFirst()},createHandle:function(){this.sectionsWrap.parent().append(e(document.createElement("div")).addClass("handle-containment").append(e(document.createElement("a")).addClass("handle ui-corner-all").text("DRAG")));this.sliderHandle=e(".handle");var t=this.sectionsLinks.length,n=this.sliderHandle.width(),r=t*n;this.sliderHandle.parent().add(this.sectionsWrap).attr({style:"width: "+r+"px;"});this.sectionsWrap.children().css("width",n)},bindEvents:function(){this.sectionsLinks.on("click",this.wasClicked);this.sliderHandle.on("mousedown",this.dragLightUp);this.sliderHandle.on("mouseup",this.dragLightOff)},showFirst:function(){this.sliderContent.children().hide();this.sliderContent.children(":first").show();this.sectionsWrap.children(":first").addClass("on");this.setUpDrag()},setUpDrag:function(){this.sliderHandle.draggable({axis:"x",containment:"parent",stop:function(n,r){var i=r.position.left,s=t,o=1,u=s.sectionsLinks.length,a=Math.floor(s.sectionsWrap.width()/u);i=Math.round(i/a);o=i*a;if(o<a){o=.1;i=0}if(o){e(this).animate({left:o},200);i=i+=1;t.contentTransitions(i)}}})},wasClicked:function(n){var r=t,i=r.sectionsLinks.index(this),s=r.sectionsLinks.length,o=Math.floor(r.sectionsWrap.width()/s),u=i*o;if(u<o){u=.1}if(u){e(r.sliderHandle).animate({left:u},400);var a=i+=1;r.contentTransitions(a)}n.preventDefault},dragLightUp:function(){t.sectionsWrap.children().addClass("on divisions");t.sectionsWrap.children(":first-child").removeClass("divisions")},dragLightOff:function(){t.sectionsWrap.children().removeAttr("class")},contentTransitions:function(e){this.sliderContent.children().fadeOut(300,"linear");this.sliderContent.children(":nth-child("+e+")").delay(299).fadeIn(600,"linear");this.sectionsWrap.children().removeAttr("class");this.sectionsWrap.children(":nth-child("+e+")").addClass("on")}};t.init({sliderContent:e(".nav-content"),sectionsWrap:e(".nav-areas")})})(jQuery)